<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/main-layout}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title layout:fragment="title">μ£Όλ¬Έ μ™„λ£</title>
    <th:block layout:fragment="extraHead">
        <link rel="stylesheet" th:href="@{/css/OrderComplete.css}">
    </th:block>
</head>
<body>
<main layout:fragment="content">
    <div class="complete-container">
        <section class="complete-hero">
            <div class="icon">β”</div>
            <h1>μ£Όλ¬Έμ΄ μ™„λ£λμ—μµλ‹λ‹¤!</h1>
            <p class="muted">μ£Όλ¬Έν•΄μ£Όμ…”μ„ κ°μ‚¬ν•©λ‹λ‹¤. λΉ λ¥΄κ² λ°°μ†΅ν•΄λ“λ¦¬κ² μµλ‹λ‹¤.</p>
            <div class="order-number">
                μ£Όλ¬Έλ²νΈ
                <strong th:text="${order?.orderNumber} ?: 'ORD-0000'">ORD-0000</strong>
            </div>
        </section>

        <section class="status-card">
            <h2>λ°°μ†΅ μ§„ν–‰ μƒν™©</h2>
            <div class="status-steps">
                <div class="step complete">
                    <div class="step-icon">β”</div>
                    <span>μ£Όλ¬Έμ™„λ£</span>
                    <small th:text="${#temporals.format(order?.orderDatetime, 'yyyy. MM. dd.') } ?: ''">2025. 12. 26.</small>
                </div>
                <div class="step"><div class="step-icon">π“¦</div><span>λ°°μ†΅μ¤€λΉ„</span><small>λ€κΈ°μ¤‘</small></div>
                <div class="step"><div class="step-icon">π</div><span>λ°°μ†΅μ¤‘</span><small>λ€κΈ°μ¤‘</small></div>
                <div class="step"><div class="step-icon">π </div><span>λ°°μ†΅μ™„λ£</span><small th:text="${order?.wantDeliveryDate != null ? #temporals.format(order.wantDeliveryDate, 'yyyy. MM. dd.') : 'μμƒμΌ μ¤€λΉ„μ¤‘'}">μμƒ</small></div>
            </div>
        </section>

        <section class="card">
            <h3>μ£Όλ¬Έ μƒν’</h3>
            <div class="item-list" th:if="${order?.orderItems} != null">
                <div class="item" th:each="item : ${order.orderItems}">
                    <div class="thumb">
                        <img th:src="${item.bookImageUrl}" alt="thumbnail">
                    </div>
                    <div class="info">
                        <div class="title" th:text="${item.bookTitle}">λ„μ„λ…</div>
                        <div class="meta">μλ‰: <span th:text="${item.orderItemQuantity}">1</span></div>
                    </div>
                    <div class="price"
                         th:text="|${#numbers.formatInteger(item.unitPrice * item.orderItemQuantity, 0, 'COMMA')}μ›|">0μ›</div>
                </div>
            </div>
            <div class="total-row">
                <span>μ΄ κ²°μ  κΈμ•΅</span>
                <strong th:text="|${#numbers.formatInteger(order?.totalAmount ?: 0, 0, 'COMMA')}μ›|">0μ›</strong>
            </div>
        </section>

        <div class="info-grid">
            <section class="info-card">
                <h4>λ°°μ†΅ μ •λ³΄</h4>
                <p><strong>λ°›λ” μ‚¬λ</strong> <span th:text="${order?.deliveryAddress?.recipient} ?: '-'">-</span></p>
                <p><strong>μ—°λ½μ²</strong> <span th:text="${order?.deliveryAddress?.recipientPhoneNumber} ?: '-'">-</span></p>
                <p><strong>λ°°μ†΅ μ£Όμ†</strong>
                    <span th:text="${order?.deliveryAddress?.deliveryAddress} ?: '-'"></span>
                    <span th:text="${order?.deliveryAddress?.deliveryAddressDetail} ?: ''"></span>
                </p>
            </section>
            <section class="info-card">
                <h4>κ²°μ  μ •λ³΄</h4>
                <p><strong>κ²°μ  κΈμ•΅</strong>
                    <span th:text="|${#numbers.formatInteger(order?.totalAmount ?: 0, 0, 'COMMA')}μ›|">0μ›</span>
                </p>
                <p><strong>κ²°μ  μΌμ‹</strong>
                    <span th:text="${order?.orderDatetime != null ? #temporals.format(order.orderDatetime, 'yyyy. MM. dd. HH:mm') : '-'}">-</span>
                </p>
            </section>
        </div>

        <div class="actions">
            <a class="btn secondary" th:href="@{/}">μ‡Όν•‘ κ³„μ†ν•κΈ°</a>
            <a class="btn primary" th:href="@{/orders/my-order}">μ£Όλ¬Έ λ‚΄μ—­ λ³΄κΈ°</a>
        </div>

        <section class="notice-card">
            <h4>μ•λ‚΄μ‚¬ν•­</h4>
            <ul>
                <li>μ£Όλ¬Έν•μ‹  μƒν’μ€ μμ—…μΌ κΈ°μ¤€ 2-3μΌ λ‚΄μ— λ°°μ†΅λ©λ‹λ‹¤.</li>
                <li>λ°°μ†΅ μ‹μ‘ μ‹ λ“±λ΅ν•μ‹  ν΄λ€ν° λ²νΈλ΅ μ•λ¦Όμ„ λ³΄λ‚΄λ“λ¦½λ‹λ‹¤.</li>
                <li>μ£Όλ¬Έ λ‚΄μ—­μ€ λ§μ΄νμ΄μ§€μ—μ„ ν™•μΈν•μ‹¤ μ μμµλ‹λ‹¤.</li>
                <li>λ°°μ†΅ μ™„λ£ ν›„ 7μΌ μ΄λ‚΄ λ¬΄λ£λ΅ λ°ν’/κµν™μ΄ κ°€λ¥ν•©λ‹λ‹¤.</li>
            </ul>
        </section>
    </div>
</main>
</body>
</html>
