<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/mypage-layout}"
      th:with="sidebarActive='reviews'">
<head>
    <title layout:fragment="title">작성한 리뷰 목록</title>
    <th:block layout:fragment="extraHead">
        <!-- 필요시 전용 스타일 추가 -->
    </th:block>
</head>

<body>
<div layout:fragment="content">
    <div class="dashboard-header">
        <h2>작성한 리뷰</h2>
        <p class="muted">내가 남긴 리뷰를 한 곳에서 확인하세요.</p>
    </div>

    <div th:if="${#lists.isEmpty(reviews)}" class="dashboard-card">
        <p class="muted">작성한 리뷰가 없습니다.</p>
    </div>

    <div class="card-grid" th:if="${!#lists.isEmpty(reviews)}">
        <article class="dashboard-card" th:each="review : ${reviews}">
            <div class="linked-title">
                <a th:href="@{'/books/' + ${review.bookId}}"
                   th:text="${review.bookTitle}">도서 제목</a>
            </div>
            <p class="muted" th:text="${review.content}">리뷰 내용</p>
            <div class="review-meta">
                <span class="stars" th:text="'★ ' + ${review.rating}">★ 5</span>
                <span class="date" th:text="${#temporals.format(review.createdAt, 'yyyy-MM-dd')}">2024-01-01</span>
            </div>
        </article>
    </div>

    <div class="pagination">
        <button th:if="${!page.first}"
                th:onclick="'location.href=\'/users/me/reviews?page=' + ${page.number - 1} + '\''">
            이전
        </button>

        <button class="active" th:text="${page.number + 1}"></button>

        <button th:if="${!page.last}"
                th:onclick="'location.href=\'/users/me/reviews?page=' + ${page.number + 1} + '\''">
            다음
        </button>
    </div>
</div>
</body>
</html>
