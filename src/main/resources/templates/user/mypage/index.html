<!DOCTYPE html>
<html lang="ko" th:replace="~{layout/mypage-layout :: layout(
        title = ~{::title},
        sidebarActive = 'dashboard',
        content = ~{::content}
      )}"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <!--    <title>마이페이지 대시보드</title>-->
</head>

<body>
<div th:fragment="content">

    <h2>마이페이지 대시보드</h2>

    <div class="card-grid">

        <div class="dashboard-card">
            <h4>내 정보</h4>
            <p><strong>이름:</strong> <span th:text="${user.name}"></span></p>
            <p><strong>이메일:</strong> <span th:text="${user.email}"></span></p>
        </div>

        <div class="dashboard-card">
            <h4>보유 쿠폰</h4>
            <p class="highlight-count" th:text="${couponCount} + ' 개'"></p>
        </div>

        <div class="dashboard-card">
            <h4>총 주문 수</h4>
            <p class="highlight-count" th:text="${orderCount} + ' 건'"></p>
        </div>

    </div>

    <div class="dashboard-card">
        <h4>최근 리뷰</h4>

        <div th:if="${#lists.isEmpty(recentReviews)}">
            <p style="color:#666;">최근 작성한 리뷰가 없습니다.</p>
        </div>

        <div class="review-list-item" th:each="review : ${recentReviews}">
            <strong th:text="${review.bookTitle}"></strong>
            <p th:text="${review.content}"></p>
            <span th:text="'★ ' + ${review.rating}"></span>
        </div>

        <a class="view-all" href="/users/me/reviews">전체 리뷰 보기 →</a>
    </div>

</div>
</body>
</html>
